<local:GlassWindow x:Class="CustomSearchApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:CustomSearchApp"
        Title="Custom Search" 
        Height="850" Width="750"
        Loaded="Window_Loaded">
    
    <Border CornerRadius="30" Margin="15">
        <Border.Background>
            <SolidColorBrush Color="#1E1E2D" Opacity="0.95"/>
        </Border.Background>
        
        <Border.Effect>
            <DropShadowEffect BlurRadius="30" Opacity="0.3" ShadowDepth="0" Color="Black"/>
        </Border.Effect>
        
        <Grid Margin="25">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- POLA WYSZUKIWANIA -->
            <Border Grid.Row="0" 
                    CornerRadius="20" 
                    Background="#40000000" 
                    BorderThickness="1" 
                    BorderBrush="#60FFFFFF"
                    Padding="5" 
                    Margin="0,0,0,15">
                <Grid>
                    <TextBox x:Name="SearchBox" 
                             Text="Zapytaj Gemini AI..."
                             BorderThickness="0" 
                             Background="Transparent"
                             Foreground="White"
                             FontSize="18"
                             Padding="15,12"
                             VerticalContentAlignment="Center"
                             KeyDown="SearchBox_KeyDown"/>
                </Grid>
            </Border>
<StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" 
            VerticalAlignment="Center" Margin="0,0,10,0">
    <Button x:Name="VoiceButton" 
            Content="ðŸŽ¤" 
            Width="40" Height="40"
            Style="{StaticResource GlassButton}"
            Click="VoiceButton_Click"
            ToolTip="WÅ‚Ä…cz/wyÅ‚Ä…cz asystenta gÅ‚osowego"/>
</StackPanel>

           <!-- Wyniki -->
<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
    <StackPanel>
        <!-- WYNIKI PLIKÃ“W -->
        <ItemsControl x:Name="FileResultsList"
                      ItemsSource="{Binding FileResults}"
                      Visibility="{Binding ShowFileResults, Converter={StaticResource BoolToVisibilityConverter}}"
                      Margin="0,0,0,10">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border CornerRadius="15" 
                            Background="#30000000" 
                            BorderThickness="1" 
                            BorderBrush="#40FFFFFF"
                            Margin="0,5" 
                            Padding="15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Ikona pliku -->
                            <TextBlock Grid.Column="0" 
                                       Text="{Binding Icon, FallbackValue=ðŸ“„}"
                                       FontSize="20"
                                       Margin="0,0,15,0"
                                       VerticalAlignment="Center"/>
                            
                            <!-- Informacje o pliku -->
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="{Binding Name}" 
                                           Foreground="White" 
                                           FontSize="16"
                                           FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding Description}" 
                                           Foreground="#CCFFFFFF" 
                                           FontSize="14"
                                           Margin="0,5,0,0"/>
                                <TextBlock Text="{Binding Path}" 
                                           Foreground="#80FFFFFF" 
                                           FontSize="12"
                                           TextTrimming="CharacterEllipsis"/>
                            </StackPanel>
                            
                            <!-- Przycisk otwarcia -->
                            <Button Grid.Column="2"
                                    Content="OtwÃ³rz"
                                    Style="{StaticResource GlassButton}"
                                    Command="{Binding DataContext.OpenFileCommand, 
                                             RelativeSource={RelativeSource AncestorType=Window}}"
                                    CommandParameter="{Binding}"
                                    Margin="10,0,0,0"
                                    Padding="10,5"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
        
        <!-- ODPOWIEDÅ¹ AI -->
        <Border x:Name="AiResponseBox"
                CornerRadius="20" 
                Background="#30000000" 
                BorderThickness="1" 
                BorderBrush="#40FFFFFF"
                Padding="20"
                Margin="0,0,0,10"
                Visibility="{Binding ShowAiResponse, Converter={StaticResource BoolToVisibilityConverter}}">
            <!-- ... existing AI response content ... -->
        </Border>
    </StackPanel>
</ScrollViewer>
                    </Border>
                    
                    <!-- INFORMACJE -->
                    <Border CornerRadius="20" 
                            Background="#20000000" 
                            BorderThickness="1" 
                            BorderBrush="#30FFFFFF"
                            Padding="20">
                        <StackPanel>
                            <TextBlock Text="ðŸ’¡ PRZYKÅADOWE PYTANIA:" 
                                       Foreground="#ADD8E6"
                                       FontSize="16"
                                       FontWeight="Bold"
                                       Margin="0,0,0,10"/>
                            
                            <Button Content="Co to jest sztuczna inteligencja?" 
                                    Style="{StaticResource GlassButton}"
                                    Click="ExampleButton_Click"
                                    Tag="Co to jest sztuczna inteligencja?"
                                    Margin="0,5"/>
                            
                            <Button Content="Napisz mi krÃ³tki wiersz" 
                                    Style="{StaticResource GlassButton}"
                                    Click="ExampleButton_Click"
                                    Tag="Napisz mi krÃ³tki wiersz"
                                    Margin="0,5"/>
                            
                            <Button Content="WyjaÅ›nij teoriÄ™ wzglÄ™dnoÅ›ci" 
                                    Style="{StaticResource GlassButton}"
                                    Click="ExampleButton_Click"
                                    Tag="WyjaÅ›nij teoriÄ™ wzglÄ™dnoÅ›ci w prostych sÅ‚owach"
                                    Margin="0,5"/>
                            
                            <Button Content="Jaka jest pogoda?" 
                                    Style="{StaticResource GlassButton}"
                                    Click="ExampleButton_Click"
                                    Tag="Jaka jest pogoda w Warszawie?"
                                    Margin="0,5"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
            
            <!-- STATUS BAR -->
            <Border Grid.Row="2" 
                    CornerRadius="10" 
                    Background="#10000000" 
                    Padding="10"
                    Margin="0,15,0,0">
                <TextBlock x:Name="StatusText"
                           Text="Gotowy - naciÅ›nij Enter aby zapytaÄ‡ AI"
                           Foreground="#80FFFFFF"
                           FontSize="12"/>
            </Border>
        </Grid>
    </Border>
</local:GlassWindow>
<!-- W MainWindow.xaml dodaj: -->
<Border Grid.Row="0" Height="40" Background="Transparent" 
        MouseDown="TitleBar_MouseDown">
    <Grid>
        <TextBlock Text="ðŸ” Custom Search" 
                   Foreground="White" 
                   FontSize="14"
                   VerticalAlignment="Center"
                   Margin="20,0"/>
        
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="ðŸ—•" Style="{StaticResource TitleBarButton}" 
                    Click="MinimizeButton_Click"/>
            <Button Content="ðŸ—–" Style="{StaticResource TitleBarButton}" 
                    Click="MaximizeButton_Click"/>
            <Button Content="âœ•" Style="{StaticResource TitleBarButton}" 
                    Click="CloseButton_Click"/>
        </StackPanel>
    </Grid>
</Border>
