<Window x:Class="CustomSearchApp.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ustawienia" Height="600" Width="800"
        WindowStartupLocation="CenterOwner"
        Background="#1A1A2E">
    
    <Grid Margin="20">
        <TabControl>
            <TabItem Header="üìÅ Og√≥lne">
                <StackPanel Margin="10">
                    <TextBlock Text="Hotkey" FontSize="16" Foreground="White" Margin="0,0,0,10"/>
                    <TextBox x:Name="HotkeyBox" Text="Alt+Space" Width="200"/>
                    
                    <TextBlock Text="Przezroczysto≈õƒá" FontSize="16" Foreground="White" Margin="0,20,0,10"/>
                    <Slider x:Name="OpacitySlider" Minimum="0.3" Maximum="1.0" Value="0.95" Width="200"/>
                </StackPanel>
            </TabItem>
            
            <TabItem Header="ü§ñ AI">
                <StackPanel Margin="10">
                    <TextBlock Text="Gemini API Key" FontSize="16" Foreground="White" Margin="0,0,0,10"/>
                    <PasswordBox x:Name="GeminiApiKeyBox" Width="300"/>
                    
                    <TextBlock Text="Model" FontSize="16" Foreground="White" Margin="0,20,0,10"/>
                    <ComboBox x:Name="AiModelCombo" SelectedIndex="0" Width="200">
                        <ComboBoxItem>gemini-1.5-pro-latest</ComboBoxItem>
                        <ComboBoxItem>gemini-1.5-flash-latest</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
            </TabItem>
            
            <TabItem Header="üîç Wyszukiwanie">
                <StackPanel Margin="10">
                    <TextBlock Text="Google Search API" FontSize="16" Foreground="White" Margin="0,0,0,10"/>
                    <PasswordBox x:Name="GoogleApiKeyBox" Width="300"/>
                    
                    <TextBlock Text="Search Engine ID" FontSize="16" Foreground="White" Margin="0,20,0,10"/>
                    <TextBox x:Name="GoogleCseIdBox" Width="300"/>
                </StackPanel>
            </TabItem>
        </TabControl>
        
        <Button Content="Zapisz" HorizontalAlignment="Right" VerticalAlignment="Bottom" 
                Margin="0,0,0,20" Padding="20,10" Click="SaveButton_Click"/>
    </Grid>
</Window>
using System.Windows.Forms;

public class TrayIconManager : IDisposable
{
    private NotifyIcon _trayIcon;
    private Window _mainWindow;
    
    public TrayIconManager(Window mainWindow)
    {
        _mainWindow = mainWindow;
        InitializeTrayIcon();
    }
    
    private void InitializeTrayIcon()
    {
        _trayIcon = new NotifyIcon();
        _trayIcon.Icon = System.Drawing.Icon.ExtractAssociatedIcon(System.Windows.Forms.Application.ExecutablePath);
        _trayIcon.Text = "Custom Search Spotlight";
        
        // Menu kontekstowe
        var menu = new ContextMenuStrip();
        menu.Items.Add("Otw√≥rz", null, (s, e) => ShowMainWindow());
        menu.Items.Add("Ustawienia", null, (s, e) => ShowSettings());
        menu.Items.Add("-");
        menu.Items.Add("Wyjd≈∫", null, (s, e) => ExitApplication());
        
        _trayIcon.ContextMenuStrip = menu;
        
        // Klikniƒôcie na ikonƒô
        _trayIcon.Click += (s, e) => 
        {
            if (((MouseEventArgs)e).Button == MouseButtons.Left)
                ShowMainWindow();
        };
        
        _trayIcon.Visible = true;
    }
    
    private void ShowMainWindow()
    {
        _mainWindow.Show();
        _mainWindow.WindowState = WindowState.Normal;
        _mainWindow.Activate();
    }
    
    private void ShowSettings()
    {
        // Otw√≥rz okno ustawie≈Ñ
    }
    
    private void ExitApplication()
    {
        _trayIcon.Visible = false;
        Application.Current.Shutdown();
    }
    
    public void Dispose()
    {
        _trayIcon?.Dispose();
    }
}
<Window x:Class="CustomSearchApp.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <!-- Zawarto≈õƒá okna -->
</Window>
